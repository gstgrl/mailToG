<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>QR Code</title>
        <!-- Bootstrap 5 CDN -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body class="bg-dark text-light min-vh-100 d-flex justify-content-center align-items-center">
        <div class="container text-center">
            <h1>QR Code Generato</h1>

            <!-- Visualizzazione -->
            <img src="data:image/png;base64,{{ qr_code }}" alt="QR Code" width="300" class="mt-4 rounded-3">

            <div class="d-flex flex-column mt-3">
                <input type="text" id="qrUrl" value="{{ url }}" readonly hidden>

                <a class="btn btn-outline-light m-1" href="{{ url_for('download_qr', data=data) }}" download>Scarica il QR Code</a>
                <a class="btn btn-outline-light m-1" onclick="copyToClipboard()">Copia URL</a>
                <a class="btn btn-outline-danger my-5" href="/qrManager">Torna indietro</a>
            </div>
        </div>
        

        <!-- Script per copia -->
        <script>
            function copyToClipboard() {
                const copyText = document.getElementById("qrUrl");
                copyText.select();
                copyText.setSelectionRange(0, 99999); // mobile
                document.execCommand("copy");
                alert("URL copiato: " + copyText.value);
            }
        </script>
    </body>
</html>
