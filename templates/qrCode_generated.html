<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>QR Code</title>
        <!-- Bootstrap 5 CDN -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body class="bg-dark text-light min-vh-100 d-flex justify-content-center align-items-center">
        <div class="container text-center">
            <h1>QR Code Generato</h1>

            <!-- Visualizzazione -->
            <img src="data:image/png;base64,{{ qr_code }}" alt="QR Code" width="300">

            <div class="d-flex flex-row mx-auto justify-content-evenly mt-5" style="width: 30%;">
                <a class="btn btn-outline-success m-1" role="button" href="{{ url_for('download_qr', data=data) }}" download>Scarica il QR Code</a>

                <div>
                    <input type="text" id="qrUrl" value="{{ url }}" readonly  hidden style="width: 300px;">
                    <button class="btn btn-outline-primary m-1" onclick="copyToClipboard()">Copia URL</button>
                </div>
            </div>

            <div>
                <a class="btn btn-outline-warning my-5" href="/qrManager">Torna indietro</a>
            </div>
        </div>
        

        <!-- Script per copia -->
        <script>
            function copyToClipboard() {
                const copyText = document.getElementById("qrUrl");
                copyText.select();
                copyText.setSelectionRange(0, 99999); // mobile
                document.execCommand("copy");
                alert("URL copiato: " + copyText.value);
            }
        </script>
    </body>
</html>
